<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ordenVenta" pageWidth="612" pageHeight="396" orientation="Landscape" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="p_razonSocial" class="java.lang.String" isForPrompting="false"/>
	<parameter name="p_nit" class="java.lang.String" isForPrompting="false"/>
	<parameter name="p_fechaOrden" class="java.lang.String" isForPrompting="false"/>
	<parameter name="p_idTercero" class="java.lang.String" isForPrompting="false"/>
	<parameter name="p_nombreTercero" class="java.lang.String"/>
	<parameter name="p_textoFactura" class="java.lang.String"/>
	<parameter name="p_nombreLocal" class="java.lang.String"/>
	<parameter name="p_observacion" class="java.lang.String"/>
	<parameter name="p_nombreUsuario" class="java.lang.String"/>
	<parameter name="p_idTipoOrden" class="java.lang.Integer"/>
	<parameter name="p_idOrden" class="java.lang.Integer"/>
	<parameter name="p_idLocal" class="java.lang.Integer"/>
	<parameter name="p_fechaTx" class="java.lang.String"/>
	<parameter name="p_idDctoNitCC" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT tblDctosOrdenesDetalle.idTipoOrden,
                       tblContableSubcuenta.nombreSubcuenta,
                       tblContableSubcuenta.idSubcuenta,
                       tblDctosOrdenesDetalle.cantidad,
                       (tblDctosOrdenesDetalle.vrVentaUnitario*tblDctosOrdenesDetalle.cantidad)
                                               AS VrUnitario
                FROM   tblTipoOrden
                INNER JOIN tblDctosOrdenesDetalle
                INNER JOIN tblDctosOrdenes
                ON  tblDctosOrdenesDetalle.IDLOCAL     =
                                      tblDctosOrdenes.IDLOCAL
                AND tblDctosOrdenesDetalle.IDTIPOORDEN =
                                  tblDctosOrdenes.IDTIPOORDEN
                AND tblDctosOrdenesDetalle.IDORDEN     =
                                      tblDctosOrdenes.IDORDEN
                ON  tblTipoOrden.idTipoOrden           =
                           tblDctosOrdenesDetalle.IDTIPOORDEN
                INNER JOIN tblContableSubcuenta
                ON tblDctosOrdenesDetalle.idSubcuenta =
                             tblContableSubcuenta.idSubcuenta
                WHERE tblDctosOrdenes.IDTIPOORDEN        =
                $P{p_idTipoOrden}
                AND   tblDctosOrdenes.IDORDEN            =
                $P{p_idOrden}
                AND   tblDctosOrdenes.idLocal            =
                $P{p_idLocal}
                ORDER BY tblDctosOrdenesDetalle.item ;]]>
	</queryString>
	<field name="idTipoOrden" class="java.lang.Integer"/>
	<field name="nombreSubcuenta" class="java.lang.String"/>
	<field name="idSubcuenta" class="java.lang.String"/>
	<field name="cantidad" class="java.lang.Double"/>
	<field name="VrUnitario" class="java.lang.Double"/>
	<variable name="v_vrUnitario" class="java.lang.Double" resetType="Group" resetGroup="orden" calculation="Sum">
		<variableExpression><![CDATA[$F{VrUnitario}]]></variableExpression>
	</variable>
	<group name="orden">
		<groupExpression><![CDATA[$F{idTipoOrden}]]></groupExpression>
		<groupFooter>
			<band height="13">
				<textField pattern="#,##0">
					<reportElement x="264" y="0" width="100" height="13"/>
					<textElement textAlignment="Right">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$V{v_vrUnitario}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="0" width="250" height="13"/>
					<textElement textAlignment="Center">
						<font fontName="Verdana" size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[TOTAL COMPROBANTE]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="20">
			<textField>
				<reportElement x="0" y="0" width="572" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="16" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_nombreLocal}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="87">
			<textField pattern="#,##0">
				<reportElement mode="Opaque" x="260" y="41" width="300" height="15"/>
				<textElement textAlignment="Left">
					<font fontName="Verdana" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_textoFactura}]]></textFieldExpression>
			</textField>
			<textField pattern="###0;-###0">
				<reportElement x="0" y="57" width="572" height="13"/>
				<textElement>
					<font fontName="Verdana" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_idTercero} + "-" + $P{p_nombreTercero} + " - " +$P{p_idDctoNitCC}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement mode="Opaque" x="0" y="41" width="250" height="15"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Verdana" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_fechaOrden}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="572" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_razonSocial}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="20" width="572" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_nit}]]></textFieldExpression>
			</textField>
			<textField pattern="###0;-###0">
				<reportElement x="0" y="70" width="572" height="13"/>
				<textElement>
					<font fontName="Verdana" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_observacion}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="13">
			<elementGroup/>
			<staticText>
				<reportElement mode="Opaque" x="264" y="2" width="100" height="10"/>
				<textElement textAlignment="Right">
					<font fontName="Verdana" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[V.COMPROBANTE]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="0" y="2" width="250" height="10"/>
				<textElement textAlignment="Left">
					<font fontName="Verdana" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CUENTA]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16">
			<textField>
				<reportElement x="0" y="0" width="250" height="13"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{idSubcuenta} + ' ' + $F{nombreSubcuenta}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="264" y="0" width="100" height="13"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Double"><![CDATA[$F{VrUnitario}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="69">
			<rectangle>
				<reportElement x="0" y="18" width="572" height="50"/>
			</rectangle>
			<staticText>
				<reportElement x="299" y="55" width="245" height="13"/>
				<textElement>
					<font fontName="Verdana" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[FIRMA/SELLO Y CEDULA/NIT BENEFICIARIO]]></text>
			</staticText>
			<line>
				<reportElement x="12" y="54" width="245" height="1"/>
			</line>
			<staticText>
				<reportElement x="80" y="55" width="118" height="13"/>
				<textElement textAlignment="Center">
					<font fontName="Verdana" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[AUTORIZO]]></text>
			</staticText>
			<line>
				<reportElement x="299" y="54" width="245" height="1"/>
			</line>
			<textField pattern="#,##0">
				<reportElement x="0" y="0" width="274" height="13"/>
				<textElement textAlignment="Left">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_nombreUsuario}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="288" y="0" width="274" height="13"/>
				<textElement textAlignment="Left">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_fechaTx}]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
</jasperReport>
